# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

name                gerbil-scheme
version             0.18.1
categories          lang
platforms           darwin
license             {LGPL-2.1+ Apache-2}
maintainers         nomaintainer
description         Gerbil Scheme
long_description    Gerbil Scheme: A LISP for the 21st Century
homepage            https://cons.io

fetch.type          git
git.url             https://github.com/mighty-gerbils/gerbil.git
# git.branch          v0.18.1
git.branch          882e8292019f1c5f8fc8895f9e2751186974520c

depends_lib         port:openssl3 \
                    port:zlib

depends_build       port:autoconf

configure.args      --enable-march= --enable-dist

compiler.whitelist macports-gcc-13

build.cmd "export GERBIL_GCC='${configure.cc}'; make -j4"
